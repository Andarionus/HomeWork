# АНАЛИЗ ДАННЫХ В РАЗРАБОТКЕ ИГР
Отчет по лабораторной работе #3 выполнил(а):
- Галимуллин Андрей Александрович
- РИ-230932
- Отметка о выполнении заданий (заполняется студентом):

| Задание | Выполнение | Баллы |
| ------ | ------ | ------ |
| Задание 1 | * | 60 |
| Задание 2 | * | 20 |
| Задание 3 | * | 20 |

знак "*" - задание выполнено; знак "#" - задание не выполнено;

Работу проверили:
- к.т.н., доцент Денисов Д.В.
- к.э.н., доцент Панов М.А.
- ст. преп., Фадеев В.О.

[![N|Solid](https://cldup.com/dTxpPi9lDf.thumb.png)](https://nodesource.com/products/nsolid)

[![Build Status](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://travis-ci.org/joemccann/dillinger)

Структура отчета

- Данные о работе: название работы, фио, группа, выполненные задания.
- Цель работы.
- Задание 1.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Задание 2.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Задание 3.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Выводы.
- ✨Magic ✨

## Цель работы
Оценить структуры шаблона таблицы для балансировки. Воспользоваться шаблоном таблицы для визуализации оружия игры Save RTF.


## Задание 1
###  Расширьте варианты доступного оружия в игре. Используйте шаблон таблицы для визуализации оружия игры Save RTF.

Ход работы:
- После анализа шаблона таблицы и материалов связаных связанных с самой игрой Save RTF (чуть позже был выложен билд на юнити, так что пришлось подкорректировать собраные данные из геймплея под актуальные цифры из скриптов).
1) В первую очередь стоит выделить то, что таблица не совсем отражает реальную сторону баланса в игре. К примеру, у ПП (узи в билде на юнити) в файлах указан самый низкий урон за выстрел (3). И хоть, по идее, высокая скорострельность, скорость перезарядки и определённая отдача должны были компенсировать данный момент, по таблице кажется, что оно одно из наиболее слабых оружий, требующий ребаланса. Однако в игре имеется механика попаданий в голову, которые сущесвтенно повышают урон у всего оружия за попадания (чуть ли ни одниковый у всех, по мои наблюдениям). Поэтому на самом деле та же ПП занимает роль не зачиски треша, а так же как и АКМ подходит для острела босса с расстояния (если метить в голову, конечно).
2) Далее стоит заметить, что в приципе в игре остуствует оружие, занимающее нишу зачистки треша на высоких волнах. Базовое оружие, с которым игрок начинает забег и которое можно просто найти на карте (револьвер, пистолет, тесак и дробовик), довольно странно сбалансированно. Револьвер и по таблице предсталяет нечто мусорное, а тесак с дробовиком работают уж слишком на ближней дистанции (в сранении с той же двухстволкой в думе 2016/этёрнал), в то время как пистолет слишком хорош (ввиду остуствия отдачи, среднего магазина и дальности). Ограничивает лишь экономическая система в игре. В стандартном забеге игрок всё равно будет спускать всю валюту на патроны для пистолета, в время как крайне дорогостоящее оружия высокого уровня во всём лучше бесплатных аналогов. АКМ и ПП идеально чистят мобов и боссов на любом расстоянии, в время как пила и вовсе имеет бесконечный урон (судя по данным из файлоа).
3) Из всего выше сказанного мною был сделан вывод, что можно начать с заполнения ниши зачистки треша на более высоких волнах (где и боссы и мобы встречаются одновременно, как выяснилось). Так как балансировкой оружия под разные задачи мы занимаемся в дополнительном задании 3*, я пока лишь отобразил в таблице некоторое влияние отдачи у определённого оружия на вероятность попадания (номинально, у оружия кроме дробовика, тесака и пилы дальность макисмальная одинаковая). В итоге предлагаю я добавить "огнемёт" (ака flamethrower). Имеет он самый большой боезапас в 50, быстрый shoot delay в 0,01, низкую скорость перезарядки в 3,5 и урон в 8 единиц. Работает посредством механики создания линии перед персонажем игрока, которая в области (равной половине макимальной длины) наносит постоянний урон всем попавшим в неё мобам. Во избежания серьёзного урона по боссам, у данного оружия отключена механика повышенного урона в голову. Кроме того, на крайнем расстоянии от игрока скорость нанесения урона слегка уменьшается (отображенно как увеличение вероятности промаха). По исчислениям в таблице видно, что он как раз занимает место между АКМ и ПП до падения дальности (в отличие от дробовика, который совсем не далеко от ножа смог отойти). Более подробно про таблицу в следующем задании. 
![изображение](https://github.com/user-attachments/assets/a02cacde-cd93-4217-89ed-e68ffe7bef84)


## Задание 2
###  Визуализируйте параметры оружия в таблице.Используйте шаблон таблицы для визуализации оружия игры Save RTF. Постройте примеры для следующих математических величин (см. пример в презентации)
- Среднеквадратическое отклонение (СКО)
- Разброс урона оружия
- Вариативность времени отклика игрока (реакция на события)

![изображение](https://github.com/user-attachments/assets/6d034d03-5862-49d0-ab8a-ae0fbb02a047)
![изображение](https://github.com/user-attachments/assets/d7b5e28d-99e0-4341-ae80-fe24c1c36915)
![изображение](https://github.com/user-attachments/assets/16824b95-9e91-4112-b0ab-f6d8dba8729b)

- Так как точных данных по количеству мобов на волну, скилла играющего игрока и используемого оружия и прокачки я не имею, то решил написать довольно упрощённую версию. Допустим, что игрок в среднем может получить за волну до 20 ударов, каждый из которых может нанести 10 единиц урона (количество урона за удар было точно выяснено), при этом игрок прокачивает лишь количество здоровья (так как другие способы восстановить здоровье слишком подвязаны под самого игрока). Таким образом мы симулируем примерные 10 волн гейплея (без учёта волн с боссами и усиленных мобов).
![изображение](https://github.com/user-attachments/assets/a8272436-86cc-4550-b641-bbb4a3c46e5b)
![изображение](https://github.com/user-attachments/assets/803467a8-37fa-4303-b427-fb5f34446ff4)

- Видно, что шансы выжить в таких условиях у игрока скорее ниже среднего, а это без учёта усиленных врагов на более поздних волнах и тд. Всё это говорит о том, что вампиризм с восстановлением здоровья могли бы намного больше повлиять на данную структуру (по диаграмме видно, что с большим количеством ударов, больше шансов закончить забег с отрицательными числами здоровья).
- Мои предложения сводятся к следующим (исходя из всего выше описанного):

1) Вампиризм выглядит слишком выйгрышным на фоне остальных прокачек здоровья (хоть и ввиду увеличения стоимости в очках улучшения другие тоже будут вкачены, но это лишь решает половину проблемы). Поэтому можно было бы добавить каких-либо дополнительных особенностей другим прокачкам, либо в принципе создать новую категорию улучшений (понижающую входящий по персонажу урон, к примеру)

2) Добавить на карту ограниченное количество "исцелающих" расходников, которых можно было бы использовать в крайнем случае. Это бы заставило игрока двигаться по карте не только от мобов, но и куда-то ещё. Или добавить их в аэрдропы. Кроме того, это частично помогает решить вопрос с вампиризмом, указанный выше.

3) И на последок предложение с иммерсивностью/диегетикой. Помимо одинаковых брызгов крови на экране игрока, ничего больше не сигнализирует о снижении текущего здоровья. С уровнем его значение увеличивается, как и наносимый урон мобами. Поэтому в качестве улучшения игрового опыта, можно было бы как-то более явно выводить текущее состояние игрока. Брызги от более сильных врагов могли бы отличаться интесивностью, сам экран мог бы менять свой дизайн в повреждённую сторону при снижении здоровья ниже 50% (как в примере с Signalis выше). Звуковое сопровождение повреждений будет реализованно в третьем задании, но его так же не хватает в оригинальной игре.


## Задание 3
### Настройте на сцене Unity воспроизведение звуковых файлов, описывающих динамику изменения выбранной переменной. Например, если выбрано здоровье главного персонажа вы можете выводить сообщения, связанные с его состоянием.

- На юнити настроенно вопроизведение звуковых файлов таким образом, чтобы описывать текущее состояние здоровья игрового персонажа после получения урона. Хорошо - едва задело (при здоровье выше 40), средне - терплю повреждения (при здоровье ниже 40), плохо - *предсмертный хрип* (при здоровье ниже 1)
![изображение](https://github.com/user-attachments/assets/0c50b3ca-f071-4fff-9f47-29180f2392c2)

![изображение](https://github.com/user-attachments/assets/432f7ad6-0b00-4168-92e9-3e5ccabe659c)

![изображение](https://github.com/user-attachments/assets/ec580fb4-992f-4de2-aa45-62cb44320817)

## Выводы

Первая полноценная работа с питоном и юнити. Сама подготовка заняла много времени (проблемы с версиями библиотеки для питона и тд). Однако самый главный плюс - первый вопроизведённый звуковой файл на юнити (и хочется верить, что не последний). Анализ же здоровья мне показался самой животрепещущей темой в ряде игр, упомянутых выше, поэтому речь про него и шла. 

| Plugin | README |
| ------ | ------ |
| Dropbox | [plugins/dropbox/README.md][PlDb] |
| GitHub | [plugins/github/README.md][PlGh] |
| Google Drive | [plugins/googledrive/README.md][PlGd] |
| OneDrive | [plugins/onedrive/README.md][PlOd] |
| Medium | [plugins/medium/README.md][PlMe] |
| Google Analytics | [plugins/googleanalytics/README.md][PlGa] |

## Powered by

**BigDigital Team: Denisov | Fadeev | Panov**
